<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Jogo Espacial</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
    }

    .background {
      background-image: url(image/background.png); /* sua imagem de fundo */
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      height: 100vh;
      width: 100%;
      position: relative;
    }

    .hud {
  position: absolute;
  top: 10px;
  left: 10px;
  background-color: rgba(0, 0, 0, 0.7);
  border: 2px solid white;
  padding: 15px;
  font-family: monospace;
  font-size: 1rem;
  width: 180px;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

.hud-item {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
}

.hud img {
  width: 40px;
  height: auto;
  margin-right: 30px;
}

.hud-text {
  flex: 1;
  text-align: left;
  display: block;
    color:white;
}
.spaceship-container {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: auto;
}

.spaceship {
  width: 100px;
  display: block;
}

.missil-fixo {
  position: absolute;
  width: 16px;
  bottom: 10px;
  transition: bottom 0.2s;
}

#missil1 {
  left: 20px;
}

#missil2 {
  right: 20px;
}


/* Tela de pause */
.pause-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.238);
  z-index: 99;
  justify-content: center;
  align-items: center;
  font-size: 3rem;
  color: #ffff;
  font-weight: bold;
  font-family: sans-serif;
}
</style>
</head>
<body>
    <div class="pause-overlay" id="pauseOverlay">GAME PAUSED</div>
    <div class="background">
        <div class="hud">
            <div class="hud-item">
              <img src="image/clock.png" alt="clock">
              <span class="hud-text" id="hud-time">00:00</span>
            </div>
            <div class="hud-item">
              <img src="image/nave.png" alt="Nave">
              <span class="hud-text">LIFE: 3</span>
            </div>
            <div class="hud-item">
              <img src="image/alien.png" alt="Alien">
              <span class="hud-text">ALIEN: 0</span>
            </div>
          </div>

       <div class="spaceship-container">
    <img src="image/nave.png" alt="Nave principal" class="spaceship">
    <img src="image/missil.png" class="missil-fixo" id="missil1">
    <img src="image/missil.png" class="missil-fixo" id="missil2">
  </div>
  </div>

</body>
<script>
    let seconds = 0;
    let intervalId;
    let isPaused = false;
  
    const timeDisplay = document.getElementById('hud-time');
    const spaceship = document.querySelector('.spaceship');
    const pauseOverlay = document.getElementById('pauseOverlay');
  
    function startTimer() {
      intervalId = setInterval(() => {
        if (!isPaused && seconds < 60) {
          seconds++;
          const min = String(Math.floor(seconds / 60)).padStart(2, '0');
          const sec = String(seconds % 60).padStart(2, '0');
          timeDisplay.textContent = `${min}:${sec}`;
  
          if (seconds >= 60) {
            clearInterval(intervalId);
          }
        }
      }, 1000);
    }
  
    document.addEventListener('keydown', (e) => {
      if (e.key.toLowerCase() === 'p') {
        isPaused = !isPaused;
        pauseOverlay.style.display = isPaused ? 'flex' : 'none';
      }
    });
  
    let posX = window.innerWidth / 2;
  
    document.addEventListener('keydown', (e) => {
      if (isPaused) return;
      const step = 20;
  
      if (e.key === 'ArrowLeft' || e.key.toLowerCase() === 'a') {
        posX = Math.max(0, posX - step);
      }
      if (e.key === 'ArrowRight' || e.key.toLowerCase() === 'd') {
        posX = Math.min(window.innerWidth - 100, posX + step);
      }
  
      spaceship.style.left = `${posX}px`;
    });
  
    document.addEventListener('keydown', (e) => {
      if (isPaused) return;
      if (e.code === 'Space') {
        shootMissile();
      }
    });

let misseisDisponiveis = 2;

function shootMissile() {
  if (misseisDisponiveis <= 0) return;

  const id = misseisDisponiveis === 2 ? 'missil1' : 'missil2';
  const missil = document.getElementById(id);

  // Remove o míssil da nave e dispara
  const rect = missil.getBoundingClientRect();
  const missileClone = document.createElement('img');
  missileClone.src = "image/missil.png";
  missileClone.className = 'missile';
  missileClone.style.left = `${rect.left}px`;
  missileClone.style.top = `${rect.top}px`;
  missileClone.style.position = 'absolute';
  missileClone.style.width = '16px';
  document.body.appendChild(missileClone);

  // Esconde o míssil da nave
  missil.style.visibility = 'hidden';

  let y = rect.top;
  const interval = setInterval(() => {
    if (isPaused) return;
    y -= 10;
    if (y < 0) {
      clearInterval(interval);
      missileClone.remove();
    } else {
      missileClone.style.top = `${y}px`;
    }
  }, 30);

  misseisDisponiveis--;

  // Recarregar os dois após 2 segundos
  if (misseisDisponiveis === 0) {
    setTimeout(() => {
      document.getElementById('missil1').style.visibility = 'visible';
      document.getElementById('missil2').style.visibility = 'visible';
      misseisDisponiveis = 2;
    }, 2000);
  }
}
    startTimer();
  </script>
</html>